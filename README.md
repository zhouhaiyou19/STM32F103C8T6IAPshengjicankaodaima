# STM32F103C8T6 IAP升级参考代码

## 简介

本仓库提供了一个基于STM32F103C8T6单片机的IAP（In-Application Programming）升级参考代码。该代码演示了如何通过串口实现IAP升级功能，并提供了三种不同的升级方式：

1. **按键触发升级**：通过按下特定按键来触发APP程序的升级。
2. **串口指令触发升级**：通过接收特定的串口指令来触发APP程序的升级。
3. **自动判断升级**：自动检测串口是否有数据，如果有数据则进行APP程序的升级，否则直接执行APP程序。

## 功能描述

- **Bootloader程序**：负责接收并处理升级请求，根据不同的触发条件执行相应的升级操作。
- **APP程序**：实际运行的应用程序，可以通过IAP方式进行更新。

## 使用方法

1. **硬件准备**：
   - 使用STM32F103C8T6开发板。
      - 连接串口用于数据传输。
         - 连接按键用于触发升级（可选）。

         2. **软件准备**：
            - 下载本仓库的代码。
               - 使用Keil或其他STM32开发工具打开项目文件。
                  - 编译并下载Bootloader程序到开发板。
                     - 编译并生成APP程序的二进制文件，用于后续升级。

                     3. **升级操作**：
                        - **按键触发升级**：按下开发板上的特定按键，Bootloader程序将开始接收新的APP程序并进行升级。
                           - **串口指令触发升级**：通过串口发送特定的指令，Bootloader程序将开始接收新的APP程序并进行升级。
                              - **自动判断升级**：Bootloader程序会自动检测串口是否有数据，如果有数据则开始升级，否则直接执行当前的APP程序。

                              ## 注意事项

                              - 在进行IAP升级时，请确保串口通信的稳定性和数据的完整性。
                              - 升级过程中请勿断电或进行其他可能影响升级的操作。
                              - 建议在升级前备份原有的APP程序，以防升级失败导致程序无法正常运行。

                              ## 贡献

                              欢迎大家提出改进建议或提交Pull Request，共同完善这个IAP升级参考代码。

                              ## 许可证

                              本项目采用MIT许可证，详情请参阅LICENSE文件。

                              ## 下载链接
                              [STM32F103C8T6IAP升级参考代码](https://pan.quark.cn/s/5566e9d704b5) 

                              (备用: [备用下载](https://pan.baidu.com/s/1XBiYf0jjx7zzGNt4Cf_Iiw?pwd=1234))

                              ## 说明

                              该仓库仅用于学习交流，请勿用于商业用途。
